<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>일산맥스 의류주문</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/light.min.css">
    <style>
        body {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #333;
        }

        h1, h2 {
            color: #2c3e50;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
            margin-top: 30px;
        }

        .products-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .product {
            padding: 12px;
            border-radius: 8px;
            background-color: #f9f9f9;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            text-align: center;
        }

        .product img {
            width: 100%;
            height: 120px;
            object-fit: cover;
            cursor: pointer;
            border-radius: 5px;
            transition: transform 0.2s;
            border: 1px solid #ddd;
        }

        .product img:hover {
            transform: scale(1.03);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .product-name {
            font-size: 14px;
            margin: 8px 0;
            font-weight: 500;
            height: 36px;
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }

        .price {
            font-weight: bold;
            color: #e74c3c;
            font-size: 15px;
            margin: 5px 0;
        }

        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .overlay img {
            max-width: 90%;
            max-height: 90%;
            border-radius: 5px;
        }

        input[type="tel"], input[type="text"] {
            width: 100%;
            max-width: 250px;
            padding: 10px;
            margin: 10px auto;
            text-align: center;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        label {
            display: block;
            margin: 15px 0;
            font-weight: 500;
        }

        #cart {
            list-style: none;
            padding: 0;
            margin: 20px auto;
        }

        #cart li {
            margin: 12px 0;
            padding: 10px;
            background-color: #f5f5f5;
            border-radius: 4px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        button {
            padding: 8px 15px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.2s;
            width: 100%;
            margin-top: 8px;
        }

        button:hover {
            background-color: #2980b9;
        }

        button[onclick*="remove"] {
            background-color: #e74c3c;
            padding: 5px 10px;
            margin-left: 10px;
            width: auto;
        }

        button[onclick*="remove"]:hover {
            background-color: #c0392b;
        }

        select {
            padding: 8px;
            border-radius: 4px;
            border: 1px solid #ddd;
            margin: 5px 0;
            width: 100%;
            font-size: 13px;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .image-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin: 5px 0;
        }

        .section-title {
            background-color: #f0f0f0;
            padding: 10px;
            border-radius: 5px;
            margin-top: 30px;
        }

        @media (max-width: 480px) {
            .products-container {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .product img {
                height: 100px;
            }
            
            .product-name {
                font-size: 13px;
                height: 32px;
            }
            
            .price {
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <h1>일산맥스 의류 및 신발주문</h1>

    <div class="form-group">
        <label>주문자 이름</label>
        <input type="text" id="customerName" placeholder="이름을 입력하세요">
        
        <label>전화번호</label>
        <input type="tel" id="phoneNumber" placeholder="'-' 없이 숫자만 입력 (예: 01012345678)" maxlength="11">
    </div>

    <h2 class="section-title">의류 상품</h2>
    <div id="clothing-products" class="products-container"></div>

    <h2 class="section-title">신발 상품</h2>
    <div id="shoes-products" class="products-container"></div>

    <h2>장바구니</h2>
    <ul id="cart"></ul>
    <button onclick="submitOrder()" style="padding: 10px 20px; font-size: 16px; max-width: 200px; margin: 20px auto;">주문하기</button>

    <div class="overlay" id="imageOverlay" onclick="closeOverlay()">
        <img id="overlayImage">
    </div>

    <script>
        const clothingProducts = [
            { id: 1, name: "맥스하라노랑", price: 13000, img: "https://github.com/seanyjeong/newilsan/blob/main/%EB%A7%A5%EC%8A%A4%ED%95%98%EB%9D%BC%EB%85%B8%EB%9E%91.jpeg?raw=true" },
            { id: 2, name: "TTM 핑크반팔", price: 13000, img: "https://github.com/seanyjeong/newilsan/blob/main/%ED%8B%B0%ED%8B%B0%EC%97%A0.jpeg?raw=true" },
            { id: 3, name: "흰색맥스반팔", price: 12000, img: "https://github.com/seanyjeong/newilsan/blob/main/%ED%9D%B0%EC%83%89%EB%A7%A5%EC%8A%A4%ED%8B%B0.jpeg?raw=true" },
            { id: 4, name: "아카데미반팔", price: 14000, img: "https://github.com/seanyjeong/newilsan/blob/main/%EC%95%84%EC%B9%B4%EB%8D%B0%EB%AF%B8%EB%B0%98%ED%8C%94.jpeg?raw=true" },
            { id: 5, name: "곤색반팔", price: 12000, img: "https://github.com/seanyjeong/newilsan/blob/main/%EB%B0%98%ED%8C%94%EA%B3%A4%EC%83%89.jpeg?raw=true" },
            { id: 6, name: "맨투맨검정", price: 27000, img: "https://github.com/seanyjeong/newilsan/blob/main/%EB%A7%A8%ED%88%AC%EB%A7%A8%EA%B2%80%EC%A0%95.jpeg?raw=true" },
            { id: 7, name: "맨투맨회색", price: 27000, img: "https://github.com/seanyjeong/newilsan/blob/main/%EB%A7%A8%ED%88%AC%EB%A7%A8%ED%9A%8C%EC%83%89.jpeg?raw=true" },
            { id: 8, name: "후리스검정", price: 45000, img: "https://github.com/seanyjeong/newilsan/blob/main/%ED%9B%84%EB%A6%AC%EC%8A%A4%EA%B2%80%EC%A0%95.jpeg?raw=true" },
            { id: 9, name: "후리스차콜", price: 45000, img: "https://github.com/seanyjeong/newilsan/blob/main/%ED%9B%84%EB%A6%AC%EC%8A%A4%EC%B0%A8%EC%BD%9C.jpeg?raw=true" },
            { id: 10, name: "스판긴팔검정", price: 25000, img: "https://github.com/seanyjeong/newilsan/blob/main/%EC%8A%A4%ED%8C%90%EA%B8%B4%ED%8C%94%EA%B2%80%EC%A0%95.jpeg?raw=true" },
            { id: 11, name: "스판긴팔흰색", price: 25000, img: "https://github.com/seanyjeong/newilsan/blob/main/%EC%8A%A4%ED%8C%90%EA%B8%B4%ED%8C%94%ED%9D%B0%EC%83%89.jpeg?raw=true" },
            { id: 12, name: "바람막이검정", price: 40000, img: "https://github.com/seanyjeong/newilsan/blob/main/%EB%B0%94%EB%9E%8C%EB%A7%89%EC%9D%B4%EA%B2%80%EC%A0%95.jpeg?raw=true" },
            { id: 13, name: "바람막이흰색", price: 40000, img: "https://github.com/seanyjeong/newilsan/blob/main/%EB%B0%94%EB%9E%8C%EB%A7%89%EC%9D%B4%ED%9D%B0%EC%83%89.jpeg?raw=true"}
        ];

        const shoesProducts = [
            { id: 17, name: "리브레CF", price: 76000, img: "https://github.com/seanyjeong/newilsan/blob/main/%EB%A6%AC%EB%B8%8C%EB%A0%88cf%ED%8C%8C%EB%9E%91.jpg?raw=true", extraImg: "https://github.com/seanyjeong/newilsan/blob/main/%EB%A6%AC%EB%B8%8C%EB%A0%88cf%ED%8C%8C%EB%9E%91%EC%95%88%EC%AA%BD.jpg?raw=true", customSizes: ["225", "230", "235", "240", "245", "250", "255", "260", "265", "270", "275", "280", "285"] },
            { id: 18, name: "넷버너발리스틱FF4", price: 130000, img: "https://github.com/seanyjeong/newilsan/blob/main/%EB%84%B7%EB%B2%84%EB%84%88%EB%B0%9C%EB%A6%AC%EC%8A%A4%ED%8B%B1FF4.jpg?raw=true", extraImg: "https://github.com/seanyjeong/newilsan/blob/main/%EB%84%B7%EB%B2%84%EB%84%88%EB%B0%9C%EB%A6%AC%EC%8A%A4%ED%8B%B1FF4%EB%B0%91%EC%B0%BD.jpg?raw=true", customSizes: ["250", "255", "260", "265", "270", "275", "280", "285", "290", "295", "300"] },
            { id: 19, name: "젤-로켓12와이드W", price: 77000, img: "https://github.com/seanyjeong/newilsan/blob/main/%EC%A0%A4-%EB%A1%9C%EC%BC%9312%EC%99%80%EC%9D%B4%EB%93%9CW%EC%97%B0%EB%B3%B4%EB%9D%BC.jpg?raw=true", extraImg: "https://github.com/seanyjeong/newilsan/blob/main/%EC%A0%A4-%EB%A1%9C%EC%BC%9312%EC%99%80%EC%9D%B4%EB%93%9CW%EC%97%B0%EB%B3%B4%EB%9D%BC%EC%95%88%EC%AA%BD.jpg?raw=true", customSizes: ["230", "235", "240", "245", "250"] },
            { id: 20, name: "젤-로켓12와이드검정", price: 77000, img: "https://github.com/seanyjeong/newilsan/blob/main/%EC%A0%A4-%EB%A1%9C%EC%BC%9312%EC%99%80%EC%9D%B4%EB%93%9C%EA%B2%80%EC%A0%95.jpg?raw=true", extraImg: "https://github.com/seanyjeong/newilsan/blob/main/%EC%A0%A4%EB%A1%9C%EC%BC%9312%EC%99%80%EC%9D%B4%EB%93%9C%EA%B2%80%EC%A0%95%EC%95%88.jpg?raw=true", customSizes: ["250", "255", "260", "265", "270", "275", "280", "285", "290", "295", "300"] },
            { id: 21, name: "젤-로켓12와이드파랑", price: 77000, img: "https://github.com/seanyjeong/newilsan/blob/main/%EC%A0%A4-%EB%A1%9C%EC%BC%9312%EC%99%80%EC%9D%B4%EB%93%9C%ED%8C%8C%EB%9E%91.jpg?raw=true", extraImg: "https://github.com/seanyjeong/newilsan/blob/main/%EC%A0%A4-%EB%A1%9C%EC%BC%9312%EC%99%80%EC%9D%B4%EB%93%9C%ED%8C%8C%EB%9E%91%EC%95%88%EC%AA%BD.jpg?raw=true", customSizes: ["225", "230", "235", "240", "245", "250", "255", "260", "265", "270", "275", "280", "285"] }
        ];

        const sizes = ["S", "M", "L", "XL", "2XL", "3XL"];
        let cart = [];

        // 전화번호 입력 필드에 숫자만 입력되도록 제한
        document.getElementById('phoneNumber').addEventListener('input', function(e) {
            this.value = this.value.replace(/[^0-9]/g, '');
        });

        function renderProducts() {
            renderProductSection("clothing-products", clothingProducts);
            renderProductSection("shoes-products", shoesProducts);
        }

        function renderProductSection(containerId, products) {
            const container = document.getElementById(containerId);
            container.innerHTML = "";
            
            products.forEach(product => {
                const div = document.createElement("div");
                div.classList.add("product");

                const mainImgTag = `<img src="${product.img}" alt="${product.name}" onclick="openOverlay('${product.img}')">`;
                const extraImgTag = product.extraImg
                    ? `<img src="${product.extraImg}" alt="${product.name}" onclick="openOverlay('${product.extraImg}')" style="margin-top: 5px;">`
                    : "";

                const sizeOptions = product.customSizes 
                    ? product.customSizes.map(size => `<option value="${size}">${size}</option>`).join("")
                    : sizes.map(size => `<option value="${size}">${size}</option>`).join("");

                div.innerHTML = `
                    <div class="image-container">${mainImgTag}${extraImgTag}</div>
                    <div class="product-name">${product.name}</div>
                    <div class="price">${product.price.toLocaleString()}원</div>
                    <label>
                        <select id="size-${product.id}">
                            ${sizeOptions}
                        </select>
                    </label>
                    <button onclick="addToCart(${product.id})">장바구니 추가</button>
                `;

                container.appendChild(div);
            });
        }

        function openOverlay(imageSrc) {
            document.getElementById("overlayImage").src = imageSrc;
            document.getElementById("imageOverlay").style.display = "flex";
        }

        function closeOverlay() {
            document.getElementById("imageOverlay").style.display = "none";
        }

        function addToCart(productId) {
            let product = [...clothingProducts, ...shoesProducts].find(p => p.id === productId);

            if (!product) {
                alert("상품을 찾을 수 없습니다!");
                return;
            }

            const size = document.getElementById(`size-${product.id}`).value;
            cart.push({ name: product.name, size, price: product.price });
            updateCart();
            alert(`${product.name} (${size}) 상품이 장바구니에 추가되었습니다.`);
        }

        function updateCart() {
            const cartList = document.getElementById("cart");
            cartList.innerHTML = "";
            
            if (cart.length === 0) {
                cartList.innerHTML = "<li>장바구니가 비어 있습니다.</li>";
                return;
            }
            
            cart.forEach((item, index) => {
                const li = document.createElement("li");
                li.innerHTML = `
                    <span>${item.name} (${item.size}) - <strong>${item.price.toLocaleString()}원</strong></span>
                `;
                const removeBtn = document.createElement("button");
                removeBtn.textContent = "삭제";
                removeBtn.onclick = () => { 
                    cart.splice(index, 1); 
                    updateCart(); 
                };
                li.appendChild(removeBtn);
                cartList.appendChild(li);
            });
        }

        function submitOrder() {
            const customerName = document.getElementById("customerName").value.trim();
            const phoneNumber = document.getElementById("phoneNumber").value.trim();
            
            if (!customerName) {
                alert("주문자 이름을 입력하세요.");
                return;
            }

            if (!phoneNumber || phoneNumber.length !== 11) {
                alert("올바른 전화번호를 입력하세요 (예: 01012345678).");
                return;
            }

            if (cart.length === 0) {
                alert("장바구니가 비어 있습니다.");
                return;
            }

            const totalAmount = cart.reduce((sum, item) => sum + item.price, 0);
            const orderSummary = cart.length > 1 
                ? `${cart[0].name} 외 ${cart.length - 1}개 상품`
                : cart[0].name;

            fetch("https://script.google.com/macros/s/AKfycbxYYr8WU2Fb55E0mh-v0AzewQJNdTonwWxJim8MbQlRbXIWCaW0mNYYM4umlk75gms/exec", {
                method: "POST",
                mode: "no-cors",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ 
                    customerName, 
                    phoneNumber,
                    orders: cart,
                    totalAmount,
                    orderSummary
                })
            });

            alert("주문이 정상적으로 접수되었습니다. 구비되어있는 상품이 아닌, 주문상품입니다 2~7일소요됩니다.");
            cart = [];
            updateCart();
            document.getElementById("customerName").value = "";
            document.getElementById("phoneNumber").value = "";
        }

        renderProducts();
    </script>
</body>
</html>
